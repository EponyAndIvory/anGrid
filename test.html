<!DOCTYPE html>
<head>
	<meta content='text/html; charset=utf-8' http-equiv='Content-Type' />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- lib -->	
	<link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="lib/dojo/some-of-dojo.css">
	<script SRC="lib/jquery-1.8.3.js"></script>
	<script src="lib/bootstrap/js/bootstrap.js"></script>
	<script src="lib/angular-1.0.3/angular.js"></script>
	<script src="lib/angular-1.0.3/angular-resource.js"></script>
	<script src="lib/angular-1.0.3/angular-sanitize.js"></script><!-- HTML Parser -->
	<!--[if lt IE 8]>
	<script src="lib/json2.js"></script>
	<![endif]-->
	<!-- mine -->
	<link rel="stylesheet" href="style/css/reset.css"><!-- my supplement of bootstrap -->
	<link rel="stylesheet" href="style/css/angrid.css"><!-- the css of angrid plugin  -->
	<link rel="stylesheet" href="style/css/table.css"><!-- the css of page  -->
	
	<script src="js/angird.js"></script><!-- my grid plugin -->
	<script src="js/filter.js"></script><!-- custom common filter -->
	<script src="js/instance/instance.js"></script><!-- main ng-app module -->
</head>

<body>
<div id="panel_center" style="position:absolute; top: 0px; right: 0px; bottom: 0px; left: 0px;" id="instanceApp">
<div ng-app="myApp" module="ngSanitize">
       
       <div ng-controller="Ctrl">
       Snippet: <textarea ng-model="snippet" cols="60" rows="3"></textarea>
       <table>
       	<tr>
       		<td>shit:</td><td>{{$sanitize(shit)}}</td><td><div ng-bind-html="shit"></div></td>
       	</tr>
         <tr>
           <td>Filter</td>
           <td>Source</td>
           <td>Rendered</td>
         </tr>
         <tr id="linky-filter">
           <td>linky filter</td>
           <td>
             <pre>&lt;div ng-bind-html="snippet | linky"&gt;<br>&lt;/div&gt;</pre>
           </td>
           <td>
             <div ng-bind-html="snippet | linky"></div>
           </td>
         </tr>
         <tr id="escaped-html">
           <td>no filter</td>
           <td><pre>&lt;div ng-bind="snippet"&gt;<br>&lt;/div&gt;</pre></td>
           <td><div ng-bind="snippet"></div></td>
         </tr>
       </table>
		</div>
	</div>
</div> <!-- end of #instanceApp -->
	
<script>
   angular.module('myApp', ['ngSanitize'])
	.controller('Ctrl', function ($scope, $sanitize) {
    	$scope.snippet =
         'Pretty text with some links:\n'+
         'http://angularjs.org/,\n'+
         'mailto:us@somewhere.org,\n'+
         'another@somewhere.org,\n'+
         'and one more: ftp://127.0.0.1/.';
        $scope.shit = $sanitize('<i class="icon-ok icon-green"></i>');
	});
	
	// angular.module('myApp', ['ngSanitize'])
	// .controller('Ctrl', ['$sanitize', function($scope, $sanitize) {
	  // return function(scope, element, attr) {
	    // $scope.snippet =
         // 'Pretty text with some links:\n'+
         // 'http://angularjs.org/,\n'+
         // 'mailto:us@somewhere.org,\n'+
         // 'another@somewhere.org,\n'+
         // 'and one more: ftp://127.0.0.1/.';
        // $scope.shit = $sanitize('<i class="icon-ok icon-green"></i>');
        // console.log($scope.shit);
	  // };
	// }]);
</script>

</body>
</html>